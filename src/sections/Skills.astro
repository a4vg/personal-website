---
import WaveShape from "../assets/shapes/wave.svg?raw";
import skills from "../data/skills";
import SkillItem from "../elements/SkillItem.astro";
import SkillsCategoryLayout from "../layouts/SkillsCategoryLayout.astro";
---

<div class="absolute -ml-[15%] w-[115%] -translate-y-full text-main-white">
  <Fragment set:html={WaveShape} />
</div>
<section>
  <div class="relative max-w-screen-2xl px-8 pb-8 2xl:mx-auto">
    <h2 class="mb-3 mt-6 text-3xl font-bold text-main-red">Skills</h2>
    <p class="mb-8 text-lg">
      A non-exhaustive list of the tools I've learned along the way. It keeps
      growing!
    </p>

    <div class="flex flex-wrap justify-center gap-x-11 gap-y-10 lg:gap-y-6">
      <!-- Programming Languages -->
      <SkillsCategoryLayout title="Programming Languages" clazz="w-[250px]">
        <!-- Dialog shape with content -->
        <div class="relative mb-11">
          <div
            class="flex flex-wrap justify-between gap-6 gap-y-6 rounded-md bg-main-gray px-6 py-8"
          >
            {
              skills.languages.map(it => (
                <SkillItem icon={it.icon} name={it.name} clazz="w-1/4" />
              ))
            }
          </div>
          <div
            class="absolute top-[80%] -z-10 ml-9 h-[100px] w-1/3 rotate-[60deg] rounded bg-main-gray"
          >
          </div>
        </div>
      </SkillsCategoryLayout>

      <!-- Databases -->
      <SkillsCategoryLayout title="Databases" clazz="w-[300px]">
        <!-- Database shape -->
        <div class="flex w-full flex-col gap-y-2">
          <div
            class="relative flex flex-col items-center rounded-lg bg-main-gray px-4 py-3"
          >
            <div class="absolute right-6 flex gap-1">
              {
                new Array(3)
                  .fill(0)
                  .map(() => (
                    <div class="h-4 w-4 rounded bg-black opacity-15" />
                  ))
              }
            </div>
            <h4 class="mb-4 text-sm font-bold">Relational</h4>
            <div class="flex gap-6">
              {
                skills.databases.relational.map(it => (
                  <SkillItem icon={it.icon} name={it.name} />
                ))
              }
            </div>
          </div>
          <div
            class="flex flex-col items-center rounded-lg bg-main-gray px-4 py-3"
          >
            <h4 class="mb-4 text-sm font-bold">Non-relational</h4>
            <div class="flex gap-6">
              {
                skills.databases.nonRelational.map(it => (
                  <SkillItem icon={it.icon} name={it.name} />
                ))
              }
            </div>
          </div>
          <div
            class="flex flex-col items-center rounded-lg bg-main-gray px-4 py-3"
          >
            <h4 class="mb-4 text-sm font-bold">Warehouse</h4>
            <div class="flex gap-6">
              {
                skills.databases.warehouse.map(it => (
                  <SkillItem icon={it.icon} name={it.name} />
                ))
              }
            </div>
          </div>
        </div>
      </SkillsCategoryLayout>

      <!-- Libraries and Frameworks -->
      <SkillsCategoryLayout title="Frameworks & Libraries">
        <!-- Library shape -->
        <div class="flex w-[375px] flex-col items-center">
          <div
            class="-mb-40 h-60 w-full bg-main-gray [clip-path:_polygon(50%_0%,0_36%,100%_36%)]"
          >
          </div>
          <div
            class="flex w-5/6 flex-wrap justify-center gap-4 gap-y-5 bg-main-gray px-4 py-6"
          >
            {
              skills.librariesAndFrameworks.map(it => (
                <SkillItem icon={it.icon} name={it.name} clazz="w-1/5" />
              ))
            }
          </div>
          <div class="h-7 w-full rounded bg-main-gray"></div>
        </div>
      </SkillsCategoryLayout>

      <!-- break line -->
      <div class="hidden lg:block lg:w-full"></div>

      <!-- Cloud -->

      <SkillsCategoryLayout title="Cloud">
        <!-- Cloud shape -->
        <div class="flex w-[250px] flex-col items-center">
          <div class="-mb-12 flex items-end">
            <div class="-mr-5 h-24 w-24 rounded-full bg-main-gray"></div>
            <div class="h-20 w-20 rounded-full bg-main-gray"></div>
          </div>
          <div
            class="flex w-full flex-wrap justify-center gap-y-5 rounded-full bg-main-gray py-2"
          >
            {
              skills.cloud.map(it => (
                <SkillItem icon={it.icon} name={it.name} clazz="w-1/3" />
              ))
            }
          </div>
        </div>
      </SkillsCategoryLayout>

      <SkillsCategoryLayout title="CI/CD">
        <!-- CI/CD shape -->
        <div class="relative flex items-center py-4">
          <div class="absolute inset-y-0 left-0 w-6 bg-main-gray"></div>
          <div
            class="flex w-full flex-wrap justify-center gap-y-5 bg-main-gray px-4 py-4"
          >
            {
              skills.cicd.map(it => (
                <SkillItem icon={it.icon} name={it.name} clazz="w-1/3" />
              ))
            }
          </div>
          <div class="absolute inset-y-0 right-0 w-6 bg-main-gray"></div>
        </div>
      </SkillsCategoryLayout>

      <!-- Others -->
      <SkillsCategoryLayout title="Others" clazz="flex-grow-0">
        <!-- Others shape -->
        <div
          class="my-auto flex items-center gap-1 rounded bg-main-gray px-4 py-4"
        >
          {
            skills.others.map(it => (
              <SkillItem icon={it.icon} name={it.name} clazz="w-1/3" />
            ))
          }
        </div>
      </SkillsCategoryLayout>
    </div>
  </div>
</section>
